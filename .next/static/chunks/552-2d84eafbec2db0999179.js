(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{8877:function(e,n,t){"use strict";var r=t(7862),a=t.n(r),i=t(5893);n.Z=function(e){var n=e.skills;return(0,i.jsx)("ul",{className:a().jobTags,children:n.map((function(e){return(0,i.jsx)("li",{children:e},e)}))})}},4552:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var r=t(4777),a=t.n(r),i=t(5893),s=function(e){var n=e.children;return(0,i.jsx)("div",{className:a().card,children:n})},l=function(e){var n=e.jobDescription;return(0,i.jsx)("div",{className:"overflow-auto",style:{maxHeight:"130px"},children:(0,i.jsx)("p",{className:"f7",children:n})})},o=t(8877),c=t(7294),u=t(9583),p=t(5379),d=t(1869),f=t(2525),m=t(7480),v=t.n(m),h=function(e){var n=e.children,t=e.onPopupClick,r=e.openPopup;return(0,i.jsxs)("div",{className:v().popup,onClick:t,children:[n[0],r&&(0,i.jsx)("span",{className:v().popuptext,children:n[1]})]})},j=t(1110),b=t.n(j),x=function(e){var n=e.name,t=e.onAvtarClick,r=null===n||void 0===n?void 0:n.split(" ").map((function(e){return e.charAt(0)})).join("").toUpperCase();return(0,i.jsx)("div",{className:b().profileavtar,onClick:t,children:r})},y=t(5080),g=function(e){var n,t=e.openPopup,r=e.onPopupClick,a=e.appliedBy,s=e.openedPopup,l=(0,d.Z)(null===a||void 0===a?void 0:a.join(","),Boolean(s)),o=l.data,u=l.isLoading,p=l.isError,m=l.error,v=(0,c.useState)(!1),j=v[0],b=v[1],g=(0,c.useState)(0),N=g[0],k=g[1];return(0,i.jsxs)(i.Fragment,{children:[j&&(0,i.jsx)(f.Z,{openModal:j,onClose:function(){return b(!1)},children:(0,i.jsx)(y.Z,{userData:null===o||void 0===o?void 0:o[N],onSubmitCB:function(){return b(!1)},isEmployerScreen:!0})}),u?(0,i.jsx)("div",{children:"Loading..."}):p?(0,i.jsxs)("div",{children:["Error: ",m.message]}):(0,i.jsxs)(h,{openPopup:t,onPopupClick:r,children:[(0,i.jsxs)("div",{children:[null!==(n=null===a||void 0===a?void 0:a.length)&&void 0!==n?n:0," people applied"]}),null===o||void 0===o?void 0:o.map((function(e,n){return(0,i.jsx)(x,{id:e.ID,name:e.name||"",onAvtarClick:function(){b(!0),k(n)}},e.ID)}))]})]})},N=function(e){var n,t=e.jobId,r=e.postedAt,a=e.appliedBy,s=e.freeLancerId,l=e.onJobApply,o=e.isEmployerScreen,d=(0,c.useState)(!1),f=d[0],m=d[1],v=(0,c.useState)(""),h=v[0],j=v[1],b=null===a||void 0===a?void 0:a.includes(null===s||void 0===s?void 0:s.toString()),x=Math.floor((Date.now()-new Date(r))/864e5);return(0,i.jsxs)("div",{className:"f7 flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("div",{className:"pa1 bg-near-white f7 flex items-center",children:[(0,i.jsx)(u.fSQ,{className:"f6 pr1"}),x," ","".concat(x>1?"days":"day")," ago"]}),(0,i.jsx)(u.q1E,{className:"ml3 f6 pr1"}),o&&(null===a||void 0===a?void 0:a.length)>0?(0,i.jsx)(g,{openPopup:f,onPopupClick:function(){m((function(e){return!e})),j((function(e){return t===e?"":t}))},openedPopup:h,appliedBy:a}):(0,i.jsxs)("div",{children:[null!==(n=null===a||void 0===a?void 0:a.length)&&void 0!==n?n:0," people applied"]})]}),!o&&(0,i.jsx)(p.Z,{className:"ml4",disabled:b,onClick:function(){return function(e,n){l(e,n)}(t,s)},children:b?"Applied":"Apply"})]})},k=t(4184),w=t.n(k),I=function(e){var n=e.IconName,t=e.property,r=e.leftPadding,a=void 0!==r&&r;return(0,i.jsxs)("div",{className:w()("flex",{pl2:a,pr2:!a}),children:[(0,i.jsx)(n,{}),(0,i.jsx)("div",{className:"pl2",children:t})]})},_=function(e){var n=e.jobTitle,t=e.companyName,r=e.jobRequirements,a=e.salary,s=e.contactInfo,l=e.jobId,o=e.onJobEdit,c=e.isEmployerScreen,p=void 0!==c&&c;return(0,i.jsxs)("div",{className:"jobTupleHeader",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"title f5 b",children:n}),p&&(0,i.jsx)("div",{className:"absolute right-0 top-0 pointer",onClick:function(){return function(e){o(e)}(l)},children:(0,i.jsx)(u.KHI,{})})]}),(0,i.jsx)("div",{className:"mb2"}),(0,i.jsxs)("div",{className:"flex f6 mb2",children:[(0,i.jsx)(I,{IconName:u.m17,property:t}),(0,i.jsx)(I,{IconName:u.DNl,property:s,leftPadding:!0})]}),(0,i.jsxs)("div",{className:"flex f7",children:[(0,i.jsx)(I,{IconName:u.Xfy,property:r}),(0,i.jsx)(I,{IconName:u.RcD,property:a,leftPadding:!0}),(0,i.jsx)("div",{className:"pl1",children:" / hr"})]})]})},C=function(e){var n=e.result,t=e.freeLancerId,r=e.onJobApply,a=e.isEmployerScreen,c=void 0!==a&&a,u=e.onJobEdit,p=n.ID,d=n.jobTitle,f=n.jobDescription,m=n.jobRequirements,v=n.skills,h=n.companyName,j=n.contactInfo,b=n.salary,x=n.appliedBy,y=n.postedAt;return(0,i.jsx)("div",{className:"pb2",children:(0,i.jsx)(s,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_,{jobTitle:d,jobId:p,companyName:h,jobRequirements:m,salary:b,contactInfo:j,isEmployerScreen:c,onJobEdit:u}),(0,i.jsx)("div",{className:"mb2"}),(0,i.jsx)(l,{jobDescription:f}),(0,i.jsx)(o.Z,{skills:v}),(0,i.jsx)(N,{postedAt:y,appliedBy:x,freeLancerId:t,jobId:p,isEmployerScreen:c,onJobApply:r})]})})})}},5080:function(e,n,t){"use strict";t.d(n,{Z:function(){return x},T:function(){return j}});var r=t(2809),a=t(266),i=t(809),s=t.n(i),l=t(7294),o=t(8767),c=t(8737),u=t(7547),p=t(5665),d=function(){var e=(0,a.Z)(s().mark((function e(n){var t,r,a,i,l,o,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return t=n.ID,r=n.name,a=n.designation,i=n.companyName,l=n.skills,o=n.githubLink,c='mutation {\n    updateFreeLancer(updateFreeLancer: {ID: "'.concat(t,'", name: "').concat(r,'", designation: "').concat(a,'", companyName: "').concat(i,'", skills: "').concat(l,'", githubLink: "').concat(o,'"}) {\n        ID\n        name\n        githubLink\n        jobsApplied\n        skills\n        companyName\n        designation\n        avtarLink\n      }\n  }'),e.next=6,(0,p.Z)("updateFreeLancer",c);case 6:return u=e.sent,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var f=t(5379),m=t(5893);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){return e.push({value:n,label:n}),e}),[])},b=function(){var e=(0,a.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===n||void 0===n?void 0:n.substr((null===n||void 0===n?void 0:n.lastIndexOf("/"))+1),e.next=3,fetch("https://api.github.com/users/".concat(t,"/repos"));case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(e){var n=e.userData,t=e.onSubmitCB,i=e.isEmployerScreen,p=n.ID,v=n.name,x=n.githubLink,y=n.designation,g=n.companyName,N=n.skills,k={ID:p,name:v,githubLink:x,designation:y,companyName:g,skills:N},w=(0,l.useState)(x)[0],I=(0,o.useQuery)(["projects",{id:p}],(function(){return b(w)}),{staleTime:1/0,cacheTime:3e4}),_=I.data,C=I.isLoading,D=I.isError,P=(0,l.useState)(!1),S=P[0],L=P[1],Z=(0,l.useState)(k),O=Z[0],E=Z[1],T=(0,l.useState)(!0),A=T[0],B=T[1],F=function(e){var n=(0,o.useQueryClient)();return(0,o.useMutation)(d,{onSuccess:function(t){return n.setQueryData(["freelancer",{flId:e}],[t])}})}(p),J=function(){var e=(0,a.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new RegExp(/^(ftp|http|https):\/\/[^ "]+$/),B(!0),r=Object.values(O).some((function(e){return null===e||""===e})),n.test(O.githubLink)||(r=!0,B(!1)),!r){e.next=7;break}return L(!0),e.abrupt("return");case 7:if(e.t0=!r,!e.t0){e.next=11;break}return e.next=11,F.mutate(O);case 11:t();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{"data-automation-id":"add-new-item",className:"flex flex-column w-100 h-50 center bg-white pa4 mt3",children:[A&&S&&(0,m.jsx)("div",{className:"bg-red pv2 mb3 b white ph1 f6",children:"\u26a0 Please fill all details before you update"}),!A&&(0,m.jsx)("div",{className:"bg-red pv2 mb3 b white ph1 f6",children:"\u26a0 Please provide a valid github link"}),(0,m.jsxs)("div",{className:"pv2 flex flex-column",children:[[{val:"name",label:"Name*"},{val:"designation",label:"Designation*"},{val:"companyName",label:"Company*"}].map((function(e,n){return(0,m.jsxs)("div",{className:"flex flex-column mb3",children:[(0,m.jsx)("label",{className:"tl mb2",children:e.label}),(0,m.jsx)("input",{className:"tl pa1",type:"text",disabled:i,maxLength:40,onChange:function(n){return E(h(h({},O),{},(0,r.Z)({},e.val,n.target.value)))},defaultValue:O[e.val]})]},n)})),(0,m.jsx)("label",{className:"tl mb2",children:"Github Link*"}),(0,m.jsx)("input",{className:"tl pa1",type:"url",disabled:i,placeholder:"https://www.example.com",onChange:function(e){return E(h(h({},O),{},{githubLink:e.target.value}))},value:O.githubLink}),(0,m.jsx)("span",{className:"validity"})]}),(0,m.jsx)("div",{className:"mv2",children:"Skills*"}),(0,m.jsx)(c.ZP,{isMulti:!0,isDisabled:i,options:u.p,defaultValue:j(N),onChange:function(e){return E(h(h({},O),{},{skills:e.map((function(e){return e.value})).join(",")}))}}),C?(0,m.jsx)("div",{children:"Loading..."}):D?(0,m.jsx)("div",{children:"Error loading projects"}):_&&(0,m.jsxs)("details",{children:[(0,m.jsx)("summary",{className:"pr2 f6 mt2",children:"Click to see Projects"}),(0,m.jsx)("ul",{children:null===_||void 0===_?void 0:_.map((function(e){return(0,m.jsx)("li",{children:e.name},e.id)}))})]}),!i&&(0,m.jsx)("div",{className:"flex justify-center mt3",children:(0,m.jsx)(f.Z,{className:"w-20",onClick:J,children:"Update"})})]})}},7547:function(e,n,t){"use strict";t.d(n,{p:function(){return r}});var r=[{value:"react",label:"react"},{value:"java",label:"java"},{value:"mongodb",label:"mongodb"},{value:"python",label:"python"},{value:"webpack",label:"webpack"},{value:"HTML",label:"HTML"},{value:"css",label:"css"},{value:"javascript",label:"javascript"},{value:"nodejs",label:"nodejs"},{value:"ruby",label:"ruby"}]},1869:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(266),a=t(809),i=t.n(a),s=t(8767),l=t(5665),o=function(){var e=(0,r.Z)(i().mark((function e(n){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.flId){e.next=3;break}return e.abrupt("return",null);case 3:return r=' {\n    getFreelancerDetails(flId: "'.concat(t,'") {\n        ID\n        name\n        githubLink\n        designation\n        companyName\n        skills\n        jobsApplied\n        avtarLink\n      }\n  }'),e.next=6,(0,l.Z)("getFreelancerDetails",r);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function c(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,s.useQuery)(["freelancer",{flId:e}],(function(){return o({flId:e})}),{enabled:Boolean(n)})}},5379:function(e,n,t){"use strict";var r=t(4184),a=t.n(r),i=t(5893);n.Z=function(e){var n=e.children,t=e.className,r=e.disabled,s=void 0!==r&&r,l=e.onClick,o=a()(t,{"o-20":s});return(0,i.jsx)("div",{className:"pa2 bg-blue br2 white tc pointer ".concat(o),onClick:l,children:n})}},2525:function(e,n,t){"use strict";var r=t(6631),a=t.n(r),i=t(5893);n.Z=function(e){var n=e.children,t=e.openModal,r=e.onClose;return(0,i.jsx)(i.Fragment,{children:t&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{id:"myModal",className:a().modal,children:(0,i.jsxs)("div",{className:"bg-near-white center pa3 w-60-l",children:[(0,i.jsx)("span",{className:a().close,onClick:r,children:"\xd7"}),n]})})})})}},5665:function(e,n,t){"use strict";var r=t(266),a=t(809),i=t.n(a),s=function(){var e=(0,r.Z)(i().mark((function e(n,t){var r,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:3600/graphql",r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})},e.next=4,fetch("http://localhost:3600/graphql",r);case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,e.abrupt("return",s.data[n]);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();n.Z=s},4777:function(e){e.exports={card:"card_card__1p1Sl"}},7862:function(e){e.exports={jobTags:"jobtags_jobTags__2tX50"}},6631:function(e){e.exports={modal:"modal_modal__xR6yj",close:"modal_close__1x7qJ"}},7480:function(e){e.exports={popup:"popup_popup__DrCJW",popuptext:"popup_popuptext__lfKRU",fadeIn:"popup_fadeIn__3ck_t",show:"popup_show__1GX4-"}},1110:function(e){e.exports={profileavtar:"profileavtar_profileavtar__3_sbX"}}}]);